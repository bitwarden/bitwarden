<ng-container *ngIf="loading">
  <div class="text-center">
    <i
      class="bwi bwi-spinner bwi-spin bwi-2x tw-text-muted"
      title="{{ 'loading' | i18n }}"
      aria-hidden="true"
    ></i>
    <span class="tw-sr-only">{{ "loading" | i18n }}</span>
  </div>
</ng-container>

<form *ngIf="!loading" [formGroup]="formGroup">
  <ng-container *ngIf="data.state === State.ExistingUserUntrustedDevice">
    <bit-form-control>
      <input type="checkbox" bitCheckbox formControlName="rememberDevice" />
      <bit-label>{{ "rememberThisDevice" | i18n }}</bit-label>
      <bit-hint>{{ "uncheckIfPublicDevice" | i18n }}</bit-hint>
    </bit-form-control>

    <div class="tw-grid tw-gap-3">
      <button
        *ngIf="data.showApproveFromOtherDeviceBtn"
        type="button"
        bitButton
        block
        buttonType="primary"
        (click)="approveFromOtherDevice()"
      >
        {{ "approveFromYourOtherDevice" | i18n }}
      </button>

      <div class="tw-text-center">{{ "or" | i18n }}</div>

      <button
        *ngIf="data.showApproveWithMasterPasswordBtn"
        type="button"
        bitButton
        block
        buttonType="secondary"
        (click)="approveWithMasterPassword()"
      >
        {{ "useMasterPassword" | i18n }}
      </button>

      <button
        *ngIf="data.showReqAdminApprovalBtn"
        type="button"
        bitButton
        block
        buttonType="secondary"
        (click)="requestAdminApproval()"
      >
        {{ "requestAdminApproval" | i18n }}
      </button>
    </div>
  </ng-container>
</form>
